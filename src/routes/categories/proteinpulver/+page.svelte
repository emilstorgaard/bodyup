<script lang="ts">
  export let data;
  
	import Products from '$lib/components/Products.svelte';
	import Hero from '$lib/components/Hero.svelte';

  import { onMount } from "svelte";

  interface SlideItem {
    icon: string;
    text: string;
  }

  interface Slide {
    title: string;      // HTML allowed
    intro: string;  // short intro under title
    content: string;    // HTML for multiple paragraphs
    items: SlideItem[];
  }
    let slides: Slide[] = [
    {
      title: 'Hvad er <span class="text-[#007EE1]">proteinpulver?</span>',
      intro: 'F√• styr p√• hvad proteinpulver er, og hvorfor det er et af de mest popul√¶re kosttilskud til tr√¶ning, restitution og muskelopbygning.',
      content: `
        <p><strong>Proteinpulver</strong> er et kosttilskud i pulverform, som prim√¶rt best√•r af <strong>protein</strong>. Det g√¶lder for alle typer proteinpulver ‚Äì ogs√• <em>billigt proteinpulver</em>.</p>
        <p>Afh√¶ngig af producenten kan proteinkilden stamme fra <strong>m√¶lk</strong> (valle/whey), <strong>√¶rter</strong>, <strong>soya</strong>, <strong>ris</strong> eller <strong>hamp</strong>.</p>
        <p>Den mest popul√¶re type er <strong>valleprotein</strong> (whey), som er baseret p√• m√¶lkeprotein. Protein er en af kroppens vigtigste byggesten og et af de fire makron√¶ringsstoffer: <em>fedt, kulhydrater, protein og alkohol</em>.</p>
        <p>Protein spiller en central rolle i kroppens evne til at <strong>gendanne celler og opbygge muskler</strong>, hvilket g√∏r proteinpulver til et popul√¶rt valg blandt personer, der tr√¶ner eller √∏nsker at √∏ge deres daglige proteinindtag.</p>
      `,
      items: [
        { icon: "ü•õ", text: "M√¶lk, √¶rter, soja, ris, hamp" },
        { icon: "üí™", text: "Til tr√¶ning og muskelopbygning" },
        { icon: "‚ö°", text: "Nem og hurtig proteinkilde" }
      ]
    },
    {
      title: 'Typer af <span class="text-[#007EE1]">proteinpulver</span>',
      intro: 'Her f√•r du et overblik over de mest almindelige varianter ‚Äì og hvad der passer til dig.',
      content: `
        <p><strong>Protein pulver</strong> blandes oftest op med <strong>vand</strong> eller <strong>m√¶lk</strong>. Alt efter dine tr√¶ningsm√•l findes der en type proteinpulver, der matcher dit behov. Det klassiske proteinpulver har et lavt indhold af kulhydrater og kalorier og bruges ofte i forbindelse med tr√¶ning.</p>
        <p>Der findes b√•de <strong>hurtigt optageligt proteinpulver</strong> ‚Äì kendt som <strong>whey protein</strong> ‚Äì og <strong>langsomt optageligt protein</strong>, kendt som <strong>kasein protein</strong>. Mange v√¶lger at <em>blande de to typer</em> for at opn√• en optimal kombination af hurtigt og langsomt optageligt protein. Det g√¶lder ogs√• for <em>billigt proteinpulver</em>.</p>
        <p>En anden variant er <strong>weight gainer</strong>, som indeholder et h√∏jt antal kulhydrater og kalorier. Denne type er ideel for personer, der har sv√¶rt ved at tage p√•, da den har en langt h√∏jere andel af <strong>kulhydrater og fedt</strong> end almindeligt proteinpulver.</p>
        <p>N√•r du unders√∏ger markedet for proteinpulver, vil du hurtigt opdage, at der findes b√•de <strong>dyrt og billigt proteinpulver</strong> ‚Äì og at du ofte kan finde gode <strong>proteinpulver tilbud</strong> online, is√¶r hvis du k√∏ber st√∏rre m√¶ngder.</p>
        <p>Inden du v√¶lger et produkt, er det dog vigtigt at unders√∏ge <strong>kvaliteten</strong>. Hvis du vil finde det bedste proteinpulver til prisen, s√• l√¶s med videre og bliv klogere p√•, hvad du skal kigge efter.</p>
      `,
      items: [
        { icon: "‚ö°", text: 'Hurtigt optageligt <br> (Whey protein)' },
        { icon: "üåô", text: 'Langsomt optageligt <br> (Kasein protein)' },
        { icon: "ü•£", text: 'Weight gainer <br> (h√∏jt kalorieindhold)' }
      ]
    },
    {
      title: 'Hvordan vurderer man kvaliteten af <span class="text-[#007EE1]">billig proteinpulver?</span>',
      intro: 'Ikke alt proteinpulver er ens ‚Äì men kvaliteten kan vurderes objektivt ud fra proteinets sammens√¶tning og ford√∏jelighed.',
      content: `
      <p>
          F√∏rst for nylig er <strong>kvaliteten af proteinpulver</strong> blevet et centralt fokus i fitnessbranchen.
          Et vigtigt aspekt i vurderingen er indholdet af <strong>aminosyrer</strong>.
        </p>

        <p>
          Der findes <strong>9 essentielle aminosyrer</strong>, som kroppen ikke selv kan producere.
          Det er prim√¶rt disse, man kigger p√•, n√•r man vurderer kvaliteten af et proteinpulver.
          De √∏vrige aminosyrer kan kroppen selv danne og betragtes derfor som mindre kritiske.
        </p>

        <p>
          Den generelle kvalitet m√•les i dag ud fra
          <strong>DIAAS-metoden</strong> (<em>Digestible Indispensable Amino Acid Score</em>),
          som ikke kun vurderer m√¶ngden af essentielle aminosyrer, men ogs√•
          <strong>ford√∏jeligheden</strong> af proteinkilden.
        </p>

        <p>
          Alt <strong>proteinpulver solgt i Danmark</strong> skal leve op til bestemte kvalitetsstandarder,
          og der er derfor ingen risiko for at k√∏be et produkt, der er direkte skadeligt.
        </p>

        <p>
          P√• vores side kan du finde <strong>alle typer proteinpulver billigt</strong>,
          og vi angiver altid <strong>kalorier, protein og kulhydrater pr. 100 gram</strong>,
          s√• du nemt kan finde det bedste <strong>proteinpulver tilbud</strong> til dine behov.
        </p>
      `,
      items: [
        { icon: "üß¨", text: '9 essentielle aminosyrer' },
        { icon: "üìä", text: 'DIAAS-metoden for kvalitet' },
        { icon: "‚úÖ", text: 'Testet og godkendt i Danmark' }
      ]
    },
    {
      title: 'Hvorfor tage <span class="text-[#007EE1]">billigt proteinpulver?</span>',
      intro: 'Proteinpulver er ikke n√∏dvendigt for at blive st√¶rk ‚Äì men det kan v√¶re en smart og praktisk m√•de at sikre dit daglige proteinindtag.',
      content: `
      <p>
          <strong>Billig proteinpulver</strong> er ikke et krav for at √∏ge din styrke ‚Äì mennesker har opbygget muskler l√¶nge f√∏r proteinpulver blev opfundet.
          N√∏glen ligger i <strong>selve proteinet</strong>. Det vigtigste er at d√¶kke sit daglige behov for protein, hvilket ogs√• kan g√∏res gennem kosten, hvis man planl√¶gger det rigtigt.
        </p>

        <p>
          Der er dog flere <strong>fordele ved proteinpulver</strong>. Det er nemt at have med sig og kr√¶ver kun en shaker.
          P√• den m√•de kan du f√• protein pr√¶cis, n√•r du har brug for det ‚Äì f.eks. efter tr√¶ning.
          Derudover er det ofte <strong>billigere</strong> at f√• sit proteinbehov d√¶kket via proteinpulver end gennem almindelig mad.
        </p>

        <p>
          Du kan n√¶sten altid finde <strong>gode proteinpulver tilbud</strong>, hvilket g√∏r det til en √∏konomisk l√∏sning for mange.
          Samtidig f√•s proteinpulver i mange <strong>smagsvarianter</strong> ‚Äì en fordel for dem, der ikke bryder sig om k√∏d som kylling eller oksek√∏d.
          Der findes endda <strong>veganske alternativer</strong>, som g√∏r det lettere at d√¶kke sit proteinbehov billigt.
        </p>

        <p>
          Is√¶r <strong>whey protein</strong> har en h√∏j biologisk v√¶rdi og bliver hurtigt optaget i kroppen.
          Det betyder, at du hurtigt f√•r <strong>frie aminosyrer i blodet</strong>, som fremmer proteinsyntesen efter h√•rd tr√¶ning
          og hj√¶lper kroppen med at <strong>genopbygge og styrke musklerne</strong>.
        </p>

        <p>
          Proteinpulver er derfor ikke et krav ‚Äì men det kan v√¶re en <strong>stor fordel</strong> for personer,
          der tr√¶ner meget, eller som har sv√¶rt ved at n√• deres proteinbehov gennem almindelig kost.
        </p>
      `,
      items: [
        { icon: "üéí", text: 'Nem at have med og indtage' },
        { icon: "üí∞", text: 'Billigere proteinkilde <br> end almindelig mad</p>' },
        { icon: "‚ö°", text: 'Hurtig optagelse og bedre restitution' }
      ]
    },
    {
      title: 'Hvordan finder jeg <span class="text-[#007EE1]">billigt proteinpulver?</span>',
      intro: 'Det handler ikke kun om at finde den laveste pris ‚Äì men om at finde det proteinpulver, der passer bedst til dine behov og m√•l.',
      content: `
      <p>
          Hvor findes <strong>billigt proteinpulver</strong>? Hvordan f√•r man mest for pengene? 
          Og hvor gemmer de bedste <strong>proteinpulver tilbud</strong> sig?  
          Der er mange sp√∏rgsm√•l, n√•r man vil finde et produkt, der b√•de er billigt og af h√∏j kvalitet.
        </p>

        <p>
          For at skabe et bedre overblik har vi lavet en <strong>tabel</strong>, der viser de vigtigste parametre
          ‚Äì herunder prisen per 100 gram proteinpulver.  
          Tallene er omregnet ud fra de m√¶ngder, der er i hver pose, s√• du nemt kan sammenligne produkterne.
        </p>

        <p>
          V√¶r dog opm√¶rksom p√•, at tabellen ikke viser <strong>rabatpriser</strong>.  
          Hvis et proteinpulver er p√• tilbud, vil det alts√• ikke fremg√• direkte i oversigten.
          Det er dog nemt at klikke ind p√• det enkelte produkt og se eventuelle aktuelle tilbud.
        </p>

        <p>
          Husk, at det <strong>billigste proteinpulver</strong> ikke n√∏dvendigvis er det bedste valg.
          Det afh√¶nger af din livsstil og dit form√•l.  
          Er du fx p√• <strong>kur</strong>, er en variant med lavt kalorieindhold og f√• kulhydrater ofte bedst.
          √ònsker du derimod at tage p√•, kan et produkt med flere kalorier og kulhydrater v√¶re mere oplagt.
        </p>

        <p>
          Prisen afh√¶nger ogs√• af faktorer som <strong>brandv√¶rdi</strong> og markedsf√∏ring.  
          Men sandheden er, at langt st√∏rstedelen af det proteinpulver, der s√¶lges i Danmark,
          har en <strong>meget h√∏j kvalitet</strong> ‚Äì ogs√• de billige varianter.
        </p>

        <p>
          Brug derfor tabellen ovenfor til at <strong>sammenligne priser</strong> p√• proteinpulver med h√∏j kvalitet,
          og find et godt <strong>proteinpulver tilbud</strong>, der matcher dine behov og dit budget.
        </p>
      `,
      items: [
        { icon: "üìà", text: 'Sammenlign pris per 100 gram' },
        { icon: "üè∑Ô∏è", text: 'Hold √∏je med aktuelle tilbud' },
        { icon: "‚öñÔ∏è", text: 'V√¶lg efter dit behov ‚Äì ikke kun pris' }
      ]
    },
    {
      title: 'Hvorn√•r skal jeg tage <span class="text-[#007EE1]">proteinpulver?</span>',
      intro: 'Det vigtigste er ikke tidspunktet ‚Äì men at du f√•r d√¶kket dit daglige proteinbehov. Alligevel kan timingen have betydning for din restitution og muskelopbygning.',
      content: `
      <p>
          Der findes en udbredt myte om, at man <strong>skal drikke sit proteinpulver lige efter tr√¶ning</strong>.  
          I virkeligheden handler det om at f√• <strong>nok protein i l√∏bet af dagen</strong> og n√• sit samlede daglige m√•l.
        </p>

        <p>
          Hvis du allerede d√¶kker dit proteinbehov gennem kosten, kan du med fordel tage dit proteinpulver p√• det tidspunkt,
          hvor du normalt f√•r <strong>mindst protein</strong>.  
          M√•let er at have en <strong>stabil proteinkilde</strong> hele dagen igennem.
        </p>

        <p>
          Hvis du derimod supplerer med <strong>proteinbarer</strong> eller anden kost i l√∏bet af dagen,
          kan det v√¶re mest optimalt at tage dit proteinpulver <strong>umiddelbart efter tr√¶ning</strong>.
          P√• det tidspunkt har kroppen st√∏rst behov for n√¶ringsstoffer til at <strong>genopbygge muskler</strong> og <strong>fremme restitution</strong>.
        </p>

        <p>
          Dit proteinpulver kan uden problemer <strong>blandes med andre kosttilskud</strong> som kulhydrattilskud eller kreatin.
          Det giver en god balance af byggesten, som kroppen har brug for efter h√•rd tr√¶ning ‚Äì fx efter en intens tur p√• <a href="#" class="text-[#007EE1] hover:underline">romaskinen</a>.
        </p>
      `,
      items: [
        { icon: "üïí", text: 'F√• d√¶kket dit proteinbehov <br> i l√∏bet af dagen' },
        { icon: "üí™", text: 'Tag det efter tr√¶ning <br> for optimal restitution' },
        { icon: "‚öóÔ∏è", text: 'Kan kombineres med <br> kreatin og kulhydrattilskud' }
      ]
    },
    {
      title: 'Dosering af <span class="text-[#007EE1]">proteinpulver</span>',
      intro: 'Hvor meget proteinpulver skal man tage? Det afh√¶nger af din kropsv√¶gt, din tr√¶ning ‚Äì og af hvilket produkt du bruger.',
      content: `
       <p>
          Doseringen af <strong>proteinpulver</strong> afh√¶nger i h√∏j grad af typen af pulver og hvor meget <strong>proteinindhold</strong> det har.
          De fleste produkter leveres med en <strong>m√•leske</strong>, som typisk indeholder omkring <strong>35 gram proteinpulver</strong>.
        </p>

        <p>
          Hvis vi tager udgangspunkt i et produkt fra <strong>Bodylab</strong>, giver en skefuld cirka <strong>28 gram protein</strong> ‚Äì
          men det kan variere alt efter variant.
        </p>

        <p>
          Vil du beregne det mere pr√¶cist, kan du bruge denne simple formel:
        </p>

        <div class="bg-[#E6F3FD] border border-[#E6F3FD] rounded-2xl p-6 my-6 text-center">
          <p class="font-semibold text-slate-800 mb-1">üëâ Formel for proteinbehov per m√•ltid:</p>
          <p class="text-slate-700"><code>(Kropsv√¶gt uden fedt) √ó 0,5 = gram protein per m√•ltid</code></p>
          <p class="mt-3 text-slate-600 text-sm">Eksempel: Hvis du vejer 60 kg uden fedt ‚Üí 60 √ó 0,5 = <strong>30 g protein</strong> efter tr√¶ning eller per m√•ltid.</p>
        </div>

        <p>
          Det er altid en god id√© at <strong>l√¶se n√¶ringsindholdet</strong> p√• dit proteinpulver, s√• du ved pr√¶cis,
          hvor meget protein du f√•r per skefuld. Det hj√¶lper dig med at undg√• fejlkalkulationer og sikre,
          at du f√•r nok protein i forhold til dit m√•l.
        </p>
      `,
      items: [
        { icon: "‚öñÔ∏è", text: 'Afh√¶nger af kropsv√¶gt <br> og proteinindhold' },
        { icon: "ü•Ñ", text: 'Typisk 1 m√•leske = ca. 28‚Äì35 g' },
        { icon: "üìä", text: 'L√¶s n√¶ringsindholdet <br> for pr√¶cis dosering' }
      ]
    },
    {
      title: 'Hvor meget <span class="text-[#007EE1]">proteinpulver</span> skal du tage?',
      intro: 'M√¶ngden af proteinpulver afh√¶nger af dit samlede proteinbehov ‚Äì og hvor meget du allerede f√•r gennem din almindelige kost.',
      content: `
      <p>
          Hvor meget <strong>proteinpulver</strong> du skal tage afh√¶nger b√•de af dit daglige <strong>proteinbehov</strong> og af, hvor meget du f√•r gennem kosten.
          Det er vigtigt at huske, at proteinpulver er et <strong>kosttilskud</strong> ‚Äì det b√∏r derfor kun bruges som et supplement, ikke som en erstatning for almindelig mad.
        </p>

        <p>
          Hvis du vil finde ud af pr√¶cis, hvor meget protein du har brug for, kan du bruge en <strong>proteinberegner</strong>.
          Den tager h√∏jde for din <em>alder, h√∏jde, v√¶gt og aktivitetsniveau</em> for at estimere dit daglige behov.
        </p>

        <div class="bg-[#E6F3FD] border border-[#E6F3FD] rounded-2xl p-6 my-6 text-center">
          <p class="font-semibold text-slate-800 mb-1">üëâ Brug en proteinberegner:</p>
          <p class="text-slate-700">Indtast alder, h√∏jde, v√¶gt og aktivitetsniveau ‚Äì f√• dit daglige proteinbehov beregnet p√• f√• sekunder.</p>
        </div>

        <p>
          Flere studier har unders√∏gt, om et h√∏jt proteinindtag kan f√∏re til v√¶gt√∏gning. I et fors√∏g indtog testpersoner
          <strong>350 gram protein dagligt i 60 dage</strong>. Resultatet viste ingen n√¶vnev√¶rdig forskel i v√¶gt eller kropskomposition
          sammenlignet med kontrolgruppen, som fik et normalt proteinindtag.
        </p>

        <p>
          Testpersonerne spiste i gennemsnit <strong>800 kalorier mere om dagen</strong> end kontrolgruppen, men tog ikke p√• i fedtprocent.
          Det tyder p√•, at et <strong>kalorieoverskud fra protein</strong> ikke n√∏dvendigvis f√∏rer til √∏get fedtmasse.
        </p>

        <p>
          Det understreger, at protein er en vigtig byggesten for kroppen ‚Äì men at det stadig skal balanceres
          som en del af en sund og varieret kost.
        </p>
      `,
      items: [
        { icon: "ü•ó", text: 'Proteinpulver er <br> et supplement ‚Äì ikke erstatning' },
        { icon: "üßÆ", text: 'Brug beregner til at finde <br> dit personlige behov' },
        { icon: "üß¨", text: 'Overskud af protein <br> √∏ger ikke n√∏dvendigvis fedtprocent' }
      ]
    }
  ];

  let current: number = 0;
  let interval: number;

  const next = (): void => {
    current = (current + 1) % slides.length;
  };

  const prev = (): void => {
    current = (current - 1 + slides.length) % slides.length;
  };

  onMount(() => {
    interval = window.setInterval(next, 8000); // use window.setInterval for browser
    return () => window.clearInterval(interval);
  });
</script>

<main class="min-h-screen bg-gray-50">
  <Hero
    title={data.category.name}
    text={""}
		categories={data.categories}
  />

  <Products products={data.products} totalPages={data.totalPages} currentPage={data.currentPage} brands={data.brands} retailers={data.retailers} categoryId={1} />

  <div class="relative max-w-5xl mx-auto px-6 py-20">
    <div class="overflow-hidden rounded-3xl shadow-lg border border-[#E6F3FD] bg-white p-10 transition-shadow duration-300 hover:shadow-xl">
      
  {#each slides as slide, index}
    <div class="transition-all duration-500" style="display: {index === current ? 'block' : 'none'}">
      <header class="mb-6 text-center">
        <h2 class="text-4xl font-extrabold text-slate-900">
          {@html slide.title}
        </h2>
        <p class="mt-4 text-base text-slate-600 max-w-2xl mx-auto">
          {slide.intro}
        </p>
      </header>

      <div class="prose prose-lg prose-slate max-w-none mb-8">
        {@html slide.content}
      </div>

      <ul class="mt-12 grid sm:grid-cols-3 gap-6 text-center">
        {#each slide.items as item}
          <li class="p-6 rounded-2xl bg-[#E6F3FD] border border-[#E6F3FD] hover:bg-[#1596EC]/10 transition">
            <span class="block text-3xl mb-2 text-[#007EE1]">{item.icon}</span>
            <p class="font-medium text-slate-700">{@html item.text}</p>
          </li>
        {/each}
      </ul>
    </div>
  {/each}

      <!-- Navigation -->
      <button
        class="absolute top-1/2 left-4 -translate-y-1/2 bg-[#007EE1] text-white rounded-full w-10 h-10 flex items-center justify-center hover:bg-[#005bb5]"
        on:click={prev}
      >
        ‚Äπ
      </button>
      <button
        class="absolute top-1/2 right-4 -translate-y-1/2 bg-[#007EE1] text-white rounded-full w-10 h-10 flex items-center justify-center hover:bg-[#005bb5]"
        on:click={next}
      >
        ‚Ä∫
      </button>

      <!-- Dots -->
      <div class="flex justify-center mt-6 space-x-2">
        {#each slides as _, i}
          <span 
            class="w-3 h-3 rounded-full cursor-pointer"
            class:bg-[#007EE1]={i === current}
            class:bg-gray-300={i !== current}
            on:click={() => current = i}
          ></span>
        {/each}
      </div>
    </div>
  </div>

</main>